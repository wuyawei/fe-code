## å‰è¨€
JavaScript ä¸­çš„æ•°ç»„ç±»å‹æä¾›äº†å¾ˆå¤šåŸç”Ÿæ–¹æ³•ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œæœ¬æ–‡ä¼š **æ¨¡æ‹Ÿå®ç°** ä¸€äº›å¸¸ç”¨çš„æ•°ç»„ APIã€‚

**ã€Œå‰ç«¯ç»ƒä¹ åœºã€** å°†ä¼šæŒç»­æ›´æ–°ï¼Œä¸åŒäºä¹‹å‰çš„ **ã€å‰ç«¯è¿›é˜¶ä¹‹è·¯ã€‘** å’Œ **ã€ä»å¤´åˆ°è„šã€‘** è¿™ä¸¤ä¸ªç³»åˆ—ï¼Œ**ç»ƒä¹ åœº** ä¸»è¦ä¾§é‡äºåŸºç¡€çŸ¥è¯†çš„ç»ƒä¹ å·©å›ºï¼Œå¤§å®¶å¯¹è¿™ä¸ªç³»åˆ—æœ‰å¥½çš„å»ºè®®ä¹Ÿå¯ä»¥åœ¨è¯„è®ºåŒºå’Œæˆ‘äº¤æµ ğŸ˜„ ã€‚

å¦å¤–æˆ‘è‡ªå·±ä¹Ÿæ˜¯åœ¨ä¸æ–­çš„å­¦ä¹ ä¸­ï¼Œå¦‚æœæœ‰ä¸å¯¹çš„åœ°æ–¹éº»çƒ¦å¤§å®¶æ–§æ­£ï¼Œæˆ‘ä¼šåŠæ—¶æ›´æ–°ï¼Œæ„Ÿè°¢ã€‚

**åšå®¢åœ°å€ [ğŸ¹ğŸ° fe-code](https://github.com/wuyawei/fe-code)**
## API
æ•°ç»„çš„ API æœ‰å¾ˆå¤šï¼Œæˆ‘è¿™é‡Œæ”¾ä¸€äº›å¸¸ç”¨çš„ã€‚å¦‚æœå¤§å®¶æœ‰å…¶ä»–çš„å®ç°æ–¹æ³•ï¼Œå¯ä»¥æ”¾åœ¨è¯„è®ºåŒºï¼Œæˆ‘çœ‹åˆ°äº†ä¼šæ›´æ–°åˆ°æ–‡ç« ä¸­ ^_^ã€‚**æœ€åï¼Œå†æ¬¡å¼ºè°ƒä¸€ä¸‹åªæ˜¯æ¨¡æ‹Ÿå®ç°ï¼Œä¸ä»£è¡¨åŸç”Ÿå°±æ˜¯è¿™ä¹ˆå®ç°çš„ï¼ˆèƒ†å°ï¼Œæ€•è¢«å–·ï¼ï¼‰**
```!
æœ¬æ–‡ä¸æ˜¯å…·ä½“è®²æŸä¸ª API çš„åŸºæœ¬ç”¨æ³•ï¼Œæ‰€ä»¥å¯¹è¿™äº› API ç”¨æ³•ä¸å¤ªç†Ÿæ‚‰çš„åŒå­¦éœ€è¦å…ˆè‡ªè¡Œå­¦ä¹ å“¦ã€‚
```
å‰å¾€ â€”> [MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array) å­¦ä¹ åŸºç¡€ç”¨æ³•ã€‚

åœ¨æ­£å¼å¼€å§‹å®ç°ä¹‹å‰ï¼Œå…ˆçœ‹ä¸€ä¸ªä¾‹å­ã€‚
``` javascript
let arr = [];
arr[3] = 3;
// arr.length ? arr[0] ?  0 in arr ?

// 4  undefined  fasle
```
è¿™ä¸ªä¸œè¥¿åœ¨åé¢çš„å®ç°ä¸­ä¼šå‡ºç°ï¼Œæ‰€ä»¥å¤§å®¶å…ˆäº†è§£ä¸€ä¸‹ã€‚æ•°ç»„çš„ä¸‹æ ‡ä¸ä¸€å®šæ˜¯è¿ç»­çš„ï¼Œç›´æ¥èµ‹å€¼è¿˜ä¼šå½±å“å®ƒçš„é•¿åº¦ã€‚
### forEach
* ç®€å•å®ç°
``` javascript
// forEach æ”¯æŒä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œcallbackã€thisArg
// callback è¿”å›3ä¸ªå‚æ•°ï¼Œå½“å‰å…ƒç´ ã€å½“å‰å…ƒç´ ç´¢å¼•ã€åŸæ•°ç»„
// thisArg ä¼ å…¥åï¼Œæ”¹å˜ callback çš„ this æŒ‡é’ˆ
Array.prototype.myforeach = function (fn, context = null) {
    let index = 0;
    let arr = this;
    if (typeof fn !== 'function') {
        throw new TypeError(fn + ' is not a function');
    }
    while (index < arr.length) {
        if (index in arr) { // æ•°ç»„çš„ä¸‹æ ‡å¹¶ä¸ä¸€å®šæ˜¯è¿ç»­çš„
            fn.call(context, arr[index], index, arr);
        }
        index ++;
    }
};
```
* æ”¯æŒ async/await

ä¹‹å‰è§å¤§ä½¬ä»¬è®¨è®ºè¿‡è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥æä¸€ä¸‹ã€‚forEach åœ¨æ­£å¸¸æƒ…å†µåƒä¸‹é¢è¿™ä¹ˆå†™è‚¯å®šæ˜¯åšä¸åˆ°åŒæ­¥çš„ï¼Œç¨‹åºä¸ä¼šç­‰ä¸€ä¸ªå¾ªç¯ä¸­çš„å¼‚æ­¥å®Œæˆå†è¿›è¡Œä¸‹ä¸€ä¸ªå¾ªç¯ã€‚åŸå› å¾ˆæ˜æ˜¾ï¼Œåœ¨ä¸Šé¢çš„æ¨¡æ‹Ÿä¸­ï¼Œwhile å¾ªç¯åªæ˜¯ç®€å•æ‰§è¡Œäº† callbackï¼Œæ‰€ä»¥å°½ç®¡ callback å†…ä½¿ç”¨äº† await ï¼Œä¹Ÿåªæ˜¯å½±å“åˆ° callback å†…éƒ¨ã€‚
``` javascript
arr.myforeach(async v => {
    await fetch(v);
});
```
è¦æ”¯æŒä¸Šé¢è¿™ç§å†™æ³•ï¼Œåªè¦ç¨å¾®æ”¹ä¸€ä¸‹å°±å¥½ã€‚
``` javascript
Array.prototype.myforeach = async function (fn, context = null) {
    let index = 0;
    let arr = this;
    if (typeof fn !== 'function') {
        throw new TypeError(fn + ' is not a function');
    }
    while (index < arr.length) {
        if (index in arr) {
            try {
                await fn.call(context, arr[index], index, arr);
            } catch (e) {
                console.log(e);
            }
        }
        index ++;
    }
};
```
### map
map çš„å®ç°å¤§ä½“å’Œ forEach ç±»ä¼¼ï¼Œåªæ˜¯è¿”å›äº†ä¸€ä¸ªæ–°æ•°ç»„ã€‚
``` javascript
// å‚æ•°å’ŒforEachä¸€æ ·
// callback éœ€è¦æœ‰ä¸€ä¸ªè¿”å›å€¼
Array.prototype.mymap = function (fn, context = null) {
    let arr = this;
    let len = arr.length;
    let index = 0;
    let newArr = [];
    if (typeof fn !== 'function') {
        throw new TypeError(fn + ' is not a function');
    }
    while (index < len) {
        if (index in arr) {
            let result = fn.call(context, arr[index], index, arr);
            newArr[index] = result; // è¿”å›å€¼ä½œä¸ºä¸€ä¸ªæ–°æ•°ç»„
        }
        index ++;
    }
    return newArr;
};
```
### reduce
reduce ç¨å¾®éº»çƒ¦ä¸€äº›ï¼Œéœ€è¦æ ¹æ®ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¦å­˜åœ¨ï¼Œä½¿ç”¨ä¸åŒçš„å¤„ç†æ–¹å¼ã€‚
``` javascript
Array.prototype.myreduce = function (...arg) {
    let arr = this;
    let len = arr.length;
    let index = 0;
    let fn = arg[0], result;
    if (arg.length >= 2) { // åˆ¤æ–­æ˜¯å¦æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œæœ‰çš„è¯ä½œä¸ºå›è°ƒå‡½æ•°è¿è¡Œçš„åˆå§‹å€¼
        result = arg[1];
    } else {
        // reduce åœ¨æ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°çš„æ—¶å€™ï¼Œä¼šæŠŠæ•°ç»„çš„ç¬¬ä¸€é¡¹ä½œä¸ºå›è°ƒçš„åˆå§‹å€¼
        // ç¬¬ä¸€é¡¹å¹¶ä¸ä¸€å®šæ˜¯ a[0]
        while (index < len && !(index in arr)) {
        // ä¸‹æ ‡å°äºæ•°ç»„é•¿åº¦ä¸”ä¸‹æ ‡ä¸å±äºè¯¥æ•°ç»„å°±ä¸€ç›´å¾ªç¯ï¼Œç”¨æ¥æ‰¾åˆ°æ•°ç»„çš„ç¬¬ä¸€é¡¹
            index++;
        }
        if (index >= len) { // å¦‚æœç¬¬ä¸€é¡¹å¤§äºç­‰äºæ•°ç»„é•¿åº¦ï¼Œåˆ™è¯´æ˜æ˜¯ç©ºæ•°ç»„
            throw new TypeError( 'ç©ºæ•°ç»„ä¸”æ²¡æœ‰åˆå§‹å€¼' );
        }
        result = arr[index++]; // èµ‹å€¼ä¹‹åä¸‹æ ‡+1
    }
    if (typeof fn !== 'function') {
        throw new TypeError(fn + ' is not a function');
    }
    while (index < len) {
        if (index in arr) {
            result = fn(result, arr[index], index, arr); // æ¯æ¬¡å›è°ƒçš„è¿”å›å€¼ï¼Œéƒ½ä¼šä¼ å…¥ä¸‹æ¬¡å›è°ƒ
        }
        index ++;
    }
    return result;
};
```
### reduce å®ç°ä¸€ä¸ª map
ç»å¸¸ä¼šæœ‰é¢è¯•é—®åˆ°è¿™é“é¢˜ï¼Œé¡ºä¾¿å†™ä¸€ä¸‹ã€‚
``` javascript
Array.prototype.mapByreduce = function (fn, context = null) {
    let arr = this;
    if (typeof fn !== 'function') {
         throw new TypeError(fn + ' is not a function');
    }
    return arr.reduce((pre, cur, index, array) => {
        let res = fn.call(context, cur, index, array);
        return [...pre, res]; // è¿”å›ä¸€ä¸ªæ–°æ•°ç»„
    }, []);
};
```
### filter
ä¸€èˆ¬ç”¨æ¥è¿‡æ»¤